---
interface Props {
  service?: string;
  details?: string[];
  additionalInputs?: boolean;
  mainInputFieldPlaceholder: string;
}

const { service, details, additionalInputs, mainInputFieldPlaceholder } =
  Astro.props;
---

<!-- <script>
  const form = document.getElementById("submit-form") as HTMLInputElement;
  if (form) {
    form.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        form.click();
      }
    });
  }
</script> -->
<script>
  const form = document.getElementById("submit-form") as HTMLInputElement;
  if (form) {
    form.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault(); // Prevent the default Enter key behavior (e.g., line break)
        const submitButton = document.getElementById("submit-button");
        if (submitButton) {
          submitButton.click(); // Trigger the click event on the hidden submit button
        }
      }
    });
  }
</script>

<h1 class="font-black text-base uppercase text-app-light-gray">
  {service}
</h1>
<ul class="text-xs opacity-50 font-semibold pb-2">
  {details && details.map((d) => <li>{d}</li>)}
</ul>
<form method="POST">
  {
    additionalInputs && (
      <div class="flex justify-evenly">
        <input
          autocorrect="off"
          type="text"
          name="starts-with"
          id="starts-with"
          placeholder="Starting with"
          class="block uppercase w-full my-2 mr-1 p-2 pl-2 text-xl font-black placeholder:text-xs items-center rounded-lg text-center text-app-light-gray bg-slate-800 focus:bg-app-dark-blue focus:outline-none"
        />
        <input
          autocorrect="off"
          type="text"
          name="ends-with"
          id="ends-with"
          placeholder="Ending with"
          class="block uppercase w-full my-2 ml-1 p-2 pl-2 text-xl font-black placeholder:text-xs items-center rounded-lg text-center text-app-light-gray bg-slate-800 focus:bg-app-dark-blue focus:outline-none"
        />
      </div>
    )
  }
  <input
    autocorrect="off"
    type="text"
    name="letters"
    id="default-search"
    placeholder={mainInputFieldPlaceholder}
    class="block uppercase w-full p-4 pl-2 text-xl font-black items-center placeholder:text-xs rounded-lg text-center text-app-light-gray bg-slate-800 focus:bg-app-dark-blue focus:outline-none focus:p-6"
    required
  />

  <input id="submit-form" name="submit-form" type="submit" hidden />
  <!-- Add a hidden submit button with an id -->

  <!-- Add a visible submit button that's hidden from the user -->
  <input id="submit-button" type="submit" style="display: none;" />
</form>
